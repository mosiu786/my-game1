<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Ø¨Ø§Ø²ÛŒ Ú©Ù„ÛŒÚ© Ø³Ø±ÛŒØ¹ Ø¨Ø§ Ø¹Ú©Ø³ Ø¯ÙˆØ³ØªØ§Ù† Ùˆ Leaderboard</title>
<style>
  body { font-family: Tahoma, sans-serif; text-align:center; background:#f0f0f0; }
  #gameArea { width:300px; height:300px; margin:20px auto; border:2px solid #333; position:relative; background:#fff; overflow:hidden; }
  .target { width:50px; height:50px; border-radius:50%; position:absolute; cursor:pointer; background-size:cover; background-position:center; border:2px solid #fff; transition: transform 0.3s, opacity 0.3s; }
  #scoreBoard { font-size:20px; margin-top:10px; }
  #startBtn { padding:10px 20px; margin:10px auto; display:block; }
  #leaderboard { margin-top:20px; }
  table { margin:0 auto; border-collapse:collapse; width:300px; }
  th, td { border:1px solid #333; padding:5px; text-align:center; }
  a { cursor:pointer; color:#007BFF; text-decoration:none; }
  a:hover { text-decoration:underline; }
</style>
</head>
<body>

<h2>Ø¨Ø§Ø²ÛŒ Ú©Ù„ÛŒÚ© Ø³Ø±ÛŒØ¹</h2>
<div id="gameArea"></div>
<div id="scoreBoard">Ø§Ù…ØªÛŒØ§Ø²: 0</div>
<button id="startBtn">Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ</button>

<h3>Leaderboard</h3>
<div id="leaderboard">
  <table>
    <thead>
      <tr><th>Ø±ØªØ¨Ù‡</th><th>Ù†Ø§Ù…</th><th>Ø§Ù…ØªÛŒØ§Ø²</th></tr>
    </thead>
    <tbody id="leaderboardBody"></tbody>
  </table>
</div>

<script>
let score = 0;
let timeLeft = 10;
let timer;
let leaderboard = [];
let playerName = '';

// ===== Ù„ÛŒÙ†Ú© Ø¹Ú©Ø³ Ø¯ÙˆØ³ØªØ§Ù†Øª Ø§ÛŒÙ†Ø¬Ø§ Ù‚Ø±Ø§Ø± Ø¨Ø¯Ù‡ =====
const friendsImages = [
  'LINK_FRIEND1_HERE',
  'LINK_FRIEND2_HERE',
  'LINK_FRIEND3_HERE'
];

// Ø­Ø±Ú©Øª ØªØµØ§Ø¯ÙÛŒ Ø§Ù‡Ø¯Ø§Ù
function randomPosition() {
  const gameArea = document.getElementById('gameArea');
  const maxX = gameArea.clientWidth - 50;
  const maxY = gameArea.clientHeight - 50;
  return { x: Math.floor(Math.random() * maxX), y: Math.floor(Math.random() * maxY) };
}

function createTarget() {
  const target = document.createElement('div');
  target.className = 'target';
  
  const imgUrl = friendsImages[Math.floor(Math.random()*friendsImages.length)];
  target.style.backgroundImage = `url(${imgUrl})`;
  
  const pos = randomPosition();
  target.style.left = pos.x + 'px';
  target.style.top = pos.y + 'px';
  
  // Ø­Ø±Ú©Øª ØªØµØ§Ø¯ÙÛŒ Ø¢Ø±Ø§Ù…
  const dx = (Math.random()*2-1)*2;
  const dy = (Math.random()*2-1)*2;
  const moveInterval = setInterval(()=>{
    let x = target.offsetLeft + dx;
    let y = target.offsetTop + dy;
    if(x<0 || x>250) x = target.offsetLeft - dx;
    if(y<0 || y>250) y = target.offsetTop - dy;
    target.style.left = x + 'px';
    target.style.top = y + 'px';
  }, 30);
  
  target.onclick = () => {
    score++;
    document.getElementById('scoreBoard').innerText = 'Ø§Ù…ØªÛŒØ§Ø²: ' + score;
    
    if(navigator.vibrate) navigator.vibrate(100);
    
    target.style.transform = 'scale(0) rotate(30deg)';
    target.style.opacity = '0';
    
    setTimeout(()=>{
      clearInterval(moveInterval);
      target.remove();
      createTarget();
    },300);
  };
  
  document.getElementById('gameArea').appendChild(target);
}

function updateLeaderboard() {
  leaderboard.sort((a,b)=>b.score-a.score);
  const tbody = document.getElementById('leaderboardBody');
  tbody.innerHTML = '';
  leaderboard.slice(0,5).forEach((item,i)=>{
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${i+1}</td>
                    <td><a onclick="openProfile('${item.name}')">${item.name}</a></td>
                    <td>${item.score}</td>`;
    tbody.appendChild(tr);
  });
}

// Ù„ÛŒÙ†Ú© Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ø´Ù…Ø§
function openProfile(name){
  const profileURL = "https://www.facebook.com/mosiu786";
  window.open(profileURL, "_blank");
}

function startGame() {
  playerName = prompt("Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:");
  if(!playerName || playerName.trim() === ''){
    alert("Ù†Ø§Ù… Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ù†Ú©Ø±Ø¯ÛŒØ¯! Ø¨Ø§Ø²ÛŒ Ø´Ø±ÙˆØ¹ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯.");
    return;
  }

  score = 0;
  document.getElementById('scoreBoard').innerText = 'Ø§Ù…ØªÛŒØ§Ø²: ' + score;
  document.getElementById('gameArea').innerHTML = '';
  createTarget();

  timeLeft = 10;
  clearInterval(timer);
  timer = setInterval(() => {
    timeLeft--;
    if(timeLeft<=0){
      clearInterval(timer);

      alert(`Ø®Ø³ØªÙ‡ Ù†Ø¨Ø§Ø´ÛŒ ${playerName} Ø¹Ø²ÛŒØ²\nØ¨Ù‡ Ú¯Ø±ÙˆÙ‡ Ø¨ÛŒ Ù†Ù‚Ø§Ø¨ Ø®ÙˆØ´ Ø§ÙˆÙ…Ø¯ÛŒ ðŸ¤—\nØ¨Ø±Ø§ÛŒ ÙÙ‡Ù…ÛŒØ¯Ù† Ø±ØªØ¨Ù‡ Ø¨Ù‡ Ø§ÛŒÙ† Ø¢ÛŒØ¯ÛŒ Mus Lim Ù¾ÛŒØ§Ù… Ø¨Ø¯Ù‡`);

      leaderboard.push({name: playerName, score: score});
      updateLeaderboard();
      document.getElementById('gameArea').innerHTML = '';
    }
  },1000);
}

document.getElementById('startBtn').addEventListener('click', startGame);
</script>

</body>
</html>
